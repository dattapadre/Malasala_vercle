<%-include("Navbar")%>

<!-- Hero Section -->

<div class="gallery-hero position-relative overflow-hidden">
  <div class="hero-overlay"></div>
  <div class="container h-100">
    <div class="row h-100 align-items-center">
      <div class="col-12 text-center text-white z-1">
        <h1 class="display-3 fw-bold mb-4" id="typewriter"></h1>
        <p class="lead mb-2">Explore our collection of creative works</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Filter Buttons -->
<div class="container text-center my-4">
  <div class="btn-group filter-buttons">
    <button style="color:#fde047;" class="btn btn-outline-dark active" data-filter="all">All</button>
    <button style="color:#fde047;" class="btn btn-outline-dark" data-filter="sketch"> Blood Paintings</button>
    <button style="color:#fde047;" class="btn btn-outline-dark" data-filter="painting">Pencil Sketch</button>
  </div>
</div>
<!-- Gallery Items -->
<div class="container">
  <div class="row p-2 p-md-3">
    
    <!-- Painting -->

    <% paintings.map(function(col,i){ %>

    <div class="col-lg-3 col-md-6 col-12 mt-3 mb-4 gallery-item <%=col.painting_type%>">
      <div class="product-card">
        <img src="/upload/<%=col.image1%>"
             alt="Blood Painting"
             class="img-fluid rounded clickable-image"
             data-bs-toggle="modal"
             data-bs-target="#imageModal"
             data-img1="/upload/<%=col.image1%>"
             data-img2="/upload/<%=col.image2%>">
        <div class="product-info text-center mt-2 mb-3 p-2">
          <p class="size-info mb-1"><%=col.size%></p>
          <p class="price text-info mb-1">Without Frame: <%=col.without_frame_price%> ₹/-</p>
          <p class="price text-primary mb-2">With Frame: <%=col.with_frame_price%>₹/-</p>
          <button 
  class="btn btn-success btn-sm w-90 text-white order-btn"
  data-bs-toggle="modal" 
  data-bs-target="#orderFormModal"
  data-painting-type="<%= col.painting_type %>">
  Order a Custom Sketch
</button>

        </div>
      </div>
    </div>

    <%  }) %>

  </div>
</div>


<!-- Add this style block in your <head> or in a CSS file -->


<!-- Order Form Modal -->
<div style="overflow-y: hidden;" class="modal fade" id="orderFormModal" tabindex="-1" aria-labelledby="orderFormLabel" aria-hidden="true">
  <div class="modal-dialog">
    <form class="modal-content" method="POST" action="/orders" enctype="multipart/form-data">
      <div class="modal-header justify-content-center">
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      
      <div class="modal-body">
        <div class="">
          <label for="userName" class="form-label">Name</label>
          <input type="text" name="userName" class="form-control" required placeholder="Enter Your Full Name">
        </div>

        <div class="">
          <label for="mobile" class="form-label">Mobile</label>
          <input type="number" name="mobile" class="form-control" required placeholder="Enter Your mobile Number">
        </div>

        <div class="">
          <label for="email" class="form-label">Email</label>
          <input type="email" name="email" class="form-control" required placeholder="Enter Your Email">
        </div>

        <div class="">
          <label for="type" class="form-label">Type</label>
          <select name="type" class="form-control text-center" required>
            <option value="">--- Select Sketch Type ---</option>
            <option value="Pencil Sketch">Pencil Sketch</option>
            <option value="Blood Paintings">Blood Paintings</option>
          </select>
        </div>

        <div class="">
          <label for="image" class="form-label">Upload Image</label>
          <input type="file" name="image" class="form-control" required >
        </div>

        <div class="">
          <label for="address" class="form-label">Address</label>
          <textarea name="address" class="form-control" rows="3" required placeholder="Enter Your Addres With Pin Code"></textarea>
        </div>
      </div>

          <div class="modal-footer justify-content-center">
          <button class="glow-on-hover">Order Sketch</button>
          </div>

    </form>
  </div>
</div>

<style>
  #orderFormModal ::placeholder {
    color: black !important;
    opacity: 1;
  }
  /* Set placeholder color to black */
#orderFormModal ::placeholder {
  color: gray !important;
  opacity: 1; /* Ensures full visibility in some browsers */
}

</style>




<!-- Image Modal with Two Photos -->
<div class="modal fade" id="imageModal" tabindex="-1" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content bg-transparent border-0">
      <div class="modal-header border-0">
        <button type="button" class="btn-close custom-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body p-0 text-center d-flex flex-column flex-md-row justify-content-center align-items-center gap-3">
        <img id="modalImage1" src="" class="img-fluid rounded" alt="View 1">
        <img id="modalImage2" src="" class="img-fluid rounded" alt="View 2">
      </div>
    </div>
  </div>
</div>


<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>


<script>
  document.addEventListener("DOMContentLoaded", function () {
    const orderButtons = document.querySelectorAll('.order-btn');
    const typeInput = document.getElementById('paintingTypeInput');

    orderButtons.forEach(button => {
      button.addEventListener('click', () => {
        const type = button.getAttribute('data-painting-type');
        if (typeInput) typeInput.value = type;
      });
    });
  });
</script>

<!-- JavaScript to Show Two Images -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const images = document.querySelectorAll('.clickable-image');
    const modalImg1 = document.getElementById('modalImage1');
    const modalImg2 = document.getElementById('modalImage2');

    images.forEach(img => {
      img.addEventListener('click', () => {
        modalImg1.src = img.getAttribute('data-img1');
        modalImg2.src = img.getAttribute('data-img2');
        modalImg1.alt = img.alt + " - View 1";
        modalImg2.alt = img.alt + " - View 2";
      });
    });
  });
</script>

<!-- Image Modal Logic -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    var imageModal = document.getElementById('imageModal');
    if (imageModal) {
      imageModal.addEventListener('show.bs.modal', function (event) {
        var button = event.relatedTarget;
        var imgSrc = button.getAttribute('data-img');
        var modalImage = document.getElementById('modalImage');
        modalImage.src = imgSrc;
        modalImage.alt = button.alt;
      });
    }

    // Filter Logic
    const filterButtons = document.querySelectorAll('.filter-buttons button');
    const galleryItems = document.querySelectorAll('.gallery-item');

    filterButtons.forEach(button => {
      button.addEventListener('click', () => {
        filterButtons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');

        const filter = button.dataset.filter;
        galleryItems.forEach(item => {
          if (filter === 'all' || item.classList.contains(filter)) {
            item.style.display = 'block';
          } else {
            item.style.display = 'none';
          }
        });
      });
    });
  });
</script>

<!-- Typewriter Script -->
<script>
  const typewriterElement = document.getElementById('typewriter');
  const words = ['Our Portfolio', 'Creative Works', 'Design Projects', 'Art Collection'];
  let wordIndex = 0;
  let charIndex = 0;
  let isDeleting = false;

  function typeWriter() {
    const currentWord = words[wordIndex];
    if (isDeleting) {
      typewriterElement.textContent = currentWord.substring(0, charIndex - 1);
      charIndex--;
    } else {
      typewriterElement.textContent = currentWord.substring(0, charIndex + 1);
      charIndex++;
    }

    if (!isDeleting && charIndex === currentWord.length) {
      isDeleting = true;
      setTimeout(typeWriter, 1000);
    } else if (isDeleting && charIndex === 0) {
      isDeleting = false;
      wordIndex = (wordIndex + 1) % words.length;
      setTimeout(typeWriter, 500);
    } else {
      setTimeout(typeWriter, isDeleting ? 50 : 150);
    }
  }

  window.onload = typeWriter;
</script>

<%-include("Footer")%>
