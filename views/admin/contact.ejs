
  <title>Contacts List | Admin</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
  <!-- DataTables Bootstrap5 CSS -->
  <link href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css" rel="stylesheet" />
  <!-- Buttons Bootstrap5 CSS -->
  <link href="https://cdn.datatables.net/buttons/2.4.1/css/buttons.bootstrap5.min.css" rel="stylesheet" />

  <style>
    :root {
      --primary: #d62828;
      --accent: #003049;
      --hover: #f77f00;
    }
    .dt-buttons .btn {
      margin-right: 5px;
      margin-top: 10px;
    }
    .dataTables_wrapper .dataTables_paginate .paginate_button {
      padding: 2px 4px;
      font-size: 12px;
      color: var(--primary) !important;
    }
    .dataTables_wrapper .dataTables_paginate .page-item.active .page-link {
      background-color: var(--accent) !important;
      color: white !important;
      border-color: var(--accent) !important;
    }
    table.dataTable thead th {
      background-color: var(--accent) !important;
      color: #fff !important;
    }
    .btn-print {
      background-color: var(--hover);
      color: #fff;
    }
    .btn-print:hover {
      background-color: var(--accent);
      color: #fff;
    }
    .dataTables_filter input {
      border: 1px solid var(--primary);
      border-radius: 0.25rem;
      padding: 0.375rem 0.75rem;
      width: auto;
      margin-left: 5px;
    }
    .dataTables_filter label {
      font-weight: 500;
    }
    .dataTables_filter {
      margin-bottom: 10px;
      text-align: right;
    }
  </style>
</head>
<body class="bg-light">
  <%- include("Navbar.ejs") %>

  <div class="container bg-white p-4 mt-4">
    <div class="row mb-4">
      <div class="col-md-12">
        <div class="banner d-flex align-items-center rounded-3">
          <h3 class="text-white px-3">
            <a href="/admin/dashbord" class="text-white text-decoration-none">Admin</a>
            <i class="fa-solid fa-chevron-right"></i> Contacts List
          </h3>
          <div class="stripes"></div>
        </div>
      </div>
    </div>
<div class="table-responsive">
  <table id="contactsTable" class="table table-bordered table-striped text-center align-middle">
    <thead>
      <tr>
        <th>Sr.No</th>
        <th>Name</th>
        <th class="d-none d-md-table-cell">Email</th>
        <th>Mobile</th>
        <th class="d-none d-md-table-cell">Subject</th>
        <th class="d-none d-md-table-cell">Message</th>
        <th>Created At</th>
      </tr>
    </thead>
    <tbody>
      <% data.forEach((user, i) => { %>
        <tr>
          <td><%= i + 1 %></td>
          <td><%= user.user_name %></td>
          <td class="d-none d-md-table-cell"><%= user.user_email %></td>
          <td><%= user.user_mobile %></td>
          <td class="d-none d-md-table-cell"><%= user.user_subject %></td>
          <td class="d-none d-md-table-cell"><%= user.user_message %></td>
          <td><%= user.created_at ? user.created_at.toISOString().slice(0,10) : '' %></td>
        </tr>
      <% }) %>
    </tbody>
  </table>
</div>

  </div>

  <%- include("Footer.ejs") %>

  <!-- JS Libraries -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.1/js/dataTables.buttons.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.bootstrap5.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.html5.min.js"></script>
  <script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.print.min.js"></script>

<script>
  $(document).ready(function () {
    $('#contactsTable').DataTable({
      responsive: true,
      dom: '<"d-flex justify-content-between align-items-center mb-3 mt-2 mx-1"<"d-none d-md-block"B>f>rtip',
      buttons: [
        { extend: 'copyHtml5', className: 'btn btn-sm btn-primary border', text: '<i class="fas fa-copy me-1"></i> Copy' },
        { extend: 'csvHtml5', className: 'btn btn-sm btn-primary border', text: '<i class="fas fa-file-csv me-1"></i> CSV' },
        { extend: 'excelHtml5', className: 'btn btn-sm btn-primary border', text: '<i class="fas fa-file-excel me-1"></i> Excel' },
        { extend: 'pdfHtml5', className: 'btn btn-sm btn-primary border', text: '<i class="fas fa-file-pdf me-1"></i> PDF', orientation: 'landscape', pageSize: 'A4' },
        { extend: 'print', className: 'btn btn-sm btn-print border', text: '<i class="fas fa-print me-1"></i> Print' }
      ],
      pageLength: 10,
      lengthChange: false,
      order: [[0, 'asc']],
      language: { search: '', searchPlaceholder: 'Search...' }
    });
  });
</script>



